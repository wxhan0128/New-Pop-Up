<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head
	th:replace="fragments/header :: common_header(~{::title},~{::link})">
<title>Home</title>
</head>
<body>
	<div th:insert="fragments/nav :: navbar"></div>

	<div class="container" style="margin-top: 30px">
		<div class="row">
			<div class="col-xs-12 col-md-3">
				<div class="panel panel-default">
					<div class="panel-body" th:object="${user}" align="center">
						<img th:src="*{avatar}" class="img-circle"
							style="width: 100px; margin-top: 20px">
						<hr />
						<div align="center">
							<h5 th:text="*{username}">Example page header</h5>
						</div>
					</div>
				</div>
			</div>

			<div class="col-xs-12 col-md-7">
				<div class="panel panel-default">
					<div class="panel-body">
						<form id="postForm" th:action="@{/posts/input}" method="post">
							<div class="form-group">
								<label for="contentId">Share your moment here</label>
								<textarea class="form-control" name="content" id="contentId"
									rows="3"></textarea>
							</div>
							<p class="text-right">
								<button type="submit" class="btn btn-primary">Send</button>
							</p>
						</form>
					</div>
				</div>

				<div th:each="post,iterStat:${posts}">
					<div class="panel panel-default" th:object="${post}">
						<div class="panel-body">
							<p th:text="${iterStat.count}" hidden>count</p>
							<p th:text="*{user.username}">username</p>
							<p th:text="*{createTime}">time</p>
							<p th:text="*{content}">content</p>
							<div>
								<form th:action="@{/posts/liked/input}" method="post"
									style="display: inline">
									<input type="hidden" name="postId" id="postIdId"
										class="form-control" th:value="*{id}">
									<button type="submit" class="btn btn-primary">like</button>
								</form>
								<button class="btn btn-primary commentBt"
									style="display: inline">Comment</button>
							</div>
						</div>

						<div>
							<form class="form-horizontal" th:action="@{/posts/comment/input}"
								method="post">
								<textarea class="form-control" name="content" id="contentId"
									rows="1"></textarea>
								<input type="hidden" name="postId" id="postIdId"
									class="form-control" th:value="*{id}">
								<button type="submit" class="btn btn-primary">Reply</button>
							</form>
							<div th:each="comment,iterStat:*{comments}">
								<div th:object="${comment}">
									<p th:text="${iterStat.count}" hidden>count</p>
									<p th:text="*{content}">content</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div th:replace="fragments/footer :: footer"></div>
	<script th:src="@{/js/cust/test.js}" src="/js/cust/test.js"></script>
</body>
</html>

